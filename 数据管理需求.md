“数据管理”页面需求：

要区分A股/美股，其中A股是region:cn，每股是region:us

另外把导入数据改为配置数据，在配置数据里，默认把数据的地址分别配置为以下目录：

/home/steve/.qlib/qlib_data/cn_data

/home/steve/.qlib/qlib_data/us_data

/home/steve/.qlib/qlib_data/cn_data_1min

/home/steve/.qlib/qlib_data/us_data_1min

指数的数据不需要配置，只需要查看

继续修改“配置数据”页面。

在天级/分钟级的所有股票数据里，点击“查看数据”，需要呈现对应的数据情况，包括不限于：

calendars目录下的txt文件是数据覆盖的天数情况，需要呈现数据从哪天到哪天；

features目录下是每个子文件是一个股票编码，里面的文件是一些该股票的基本数据；

instruments文件夹表示指数名单，里面的每个文件表示一种指数，文件的内容是这个指数的成分股从哪天到哪天属于这个指数。

”数据管理“页面，点击”配置数据“按钮后，保存会报错，需要修复。

”查看数据“还是不行，需要解决，对应后端可以简化一下输出，只输出概要信息。


”数据管理“页面，给每一种股票数据增加一个”数据健康“按钮，

点击后，要调用对应的代码，配合对应的数据目录作为参数。

例如：

A股的股票日线数据检查：

python scripts/check_data_health.py check_data --qlib_dir ~/.qlib/qlib_data/cn_data

”数据管理“页面，给每一种股票数据增加一个”数据健康“按钮，

点击后，要调用对应的代码，配合对应的数据目录作为参数。

例如：

A股的股票日线数据检查：

用conda env:qlib运行

python scripts/check_data_health.py check_data --qlib_dir ~/.qlib/qlib_data/cn_data

另外整个项目的所有python代码都需要用conda env:qlib来运行




”数据管理“页面，在每个股票数据的”更新数据“按钮，点击之后，弹窗对话框，选择日期，点击确认进行数据更新，提供更新的进度，更新完成后需要提示完成。

背后调用的命令如下：

conda run -n qlib python scripts/data_collector/yahoo/collector.py update_data_to_bin --qlib_data_1d_dir <user data dir> --trading_date <start date> --end_date <end date>

其中<user_data dir>就是存放数据的路径，比如A股天级数据/home/steve/.qlib/qlib_data/cn_data

<start date>默认用”查看数据“里面的”结束日期“+1天

<end date>默认用当前日期的前一天的日期。

“数据管理”服务页面，把数据健康检测和更新数据操作改为异步操作，异步完成后提示结果


